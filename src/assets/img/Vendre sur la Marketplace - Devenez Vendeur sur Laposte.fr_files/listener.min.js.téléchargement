"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fillDataTagcKey(e){var t="";return null!=e.tagc_adid&&""!=e.tagc_adid&&(t+=e.tagc_adid+"_"),null!=e.tagc_productid&&""!=e.tagc_productid&&(t+=e.tagc_productid+"_"),null!=e.tagc_format&&""!=e.tagc_format&&(t+=e.tagc_format),t}function loadScript(e,t){var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=function(){t()},r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}function ajaxShowCart(e,t){var r;(r=new XMLHttpRequest).onreadystatechange=function(){4==r.readyState&&200==r.status&&t(r.responseText)},r.open("GET",e,!0),r.send()}function createCrossEvent(e){if("function"==typeof Event)return new Event(e);var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var desktopDynamicNav=function(){var e=[document.querySelector("nav")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll(".nav-logo a"):null,chapter1:"navbar_gauche",name:"logo_home"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".nav-search a"):null,chapter1:"navbar_gauche",type:"action"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".layer-grille a"):null,chapter1:"navbar_gauche",chapter2:"tous_nos_produits",chapter3Selector:".layer-grille-title"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".layer-cols a"):null,chapter1:"navbar_gauche",chapter2:"nos_marques"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".layer-media .content-over"):null,chapter1:"navbar_gauche",layerSelector:".isOpen > .js-open > span",sublayerSelector:".isOpen .layer-media .content-over",chapter3:"bannieres"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".follow-shipment a, .follow-shipment button"):null,chapter1:"navbar_gauche",layerSelector:".isOpen > .js-open > span",title:!0,chapter3:"suivre_un_envoi"},{container:document.querySelector("nav .nav-list"),targetList:e[0]?e[0].querySelectorAll(".nav-item, .layer-list-title, .sub-layer a"):null,chapter1:"navbar_gauche",layerSelector:".isOpen > .js-open > span",sublayerSelector:".isOpen .isOpen .layer-list-title"}]},desktopDynamicHeader=function(){var e=[document.querySelector(".header-access"),document.querySelector(".header-group"),document.querySelector(".header-univers"),document.querySelector(".header")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll("a, .header-access .header-title"):null,chapter1:"header",type:"navigation",chapter2:"acces_rapides",parentsLevels:3,chapter3Selector:".header-layer-title"},{container:e[1],targetList:e[1]?e[1].querySelectorAll("a, .header-group .header-title"):null,chapter1:"header",layerSelector:"header .isOpen .header-title",sublayerSelector:"",type:"exit"},{container:e[2],targetList:e[2]?e[2].querySelectorAll(".header-univers a"):null,chapter1:"header",type:"exit",chapter2:"switch_site"},{container:e[3],targetList:e[3]?e[3].querySelectorAll(".empty-cart a"):null,chapter1:"header",type:"navigation",chapter2:"votre_panier"},{container:e[3],targetList:e[3]?e[3].querySelectorAll(".header-account a, .header-account button"):null,chapter1:"header",type:"navigation",chapter2:"popup_connexion",title:"true"},{container:e[3],targetList:e[3]?e[3].querySelectorAll(".header-help"):null,chapter1:"header",type:"navigation",name:"aide_en_ligne"},{container:e[3],targetList:e[3]?e[3].querySelectorAll(".header-mail a"):null,chapter1:"header",type:"exit",name:"laposte.net"}]},desktopDynamicFooter=function(){var e=[document.querySelector("footer")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll(".footer-network-social a"):null,chapter1:"footer",type:"exit",chapter2:"social",title:!0},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".footer-convenant a"):null,chapter1:"footer",chapter2:"engagements"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".footer-sitemap-list a"):null,chapter1:"footer",parentsLevels:3,chapter3Selector:".subtitle",chapter3To2:!0},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".footer-apps a"):null,chapter1:"footer",type:"exit",chapter2:"nos_applications_mobiles",title:!0},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".help-btn"):null,chapter1:"footer",name:"aide_en_ligne"}]},desktopDynamicBody=function(){var e=[document.querySelector(".quick-access"),document.querySelector(".read-also"),document.querySelector(".search-result-global"),document.querySelector(".js-seeMoreServices")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll(".quick-btn span"):null,chapter1:"acces_rapides",type:"action"},{container:e[1],targetList:e[1]?e[1].querySelectorAll('[data-model="model1"] .read-also-large a'):null,chapter1:"edito",chapter2:"model1",level2:1,chapter3:"push1"},{container:e[1],targetList:e[1]?e[1].querySelectorAll('[data-model="model1"] .read-also-item a'):null,chapter1:"edito",chapter2:"model1",level2:1,chapter3:"push",option:!0},{container:e[1],targetList:e[1]?e[1].querySelectorAll('[data-model="model2"] .read-also-item a'):null,chapter1:"edito",chapter2:"model2",level2:1,chapter3:"push"},{container:e[2],targetList:e[2]?e[2].querySelectorAll(".title-1 a"):null,chapter1:"resultats_recherche",level2:15,chapter2:"switch_site"},{container:e[3],targetList:e[3]?e[3].querySelectorAll(".see-more-link a"):null,chapter1:"resultats_recherche",level2:15,chapter2:"eservices",type:"action"}]},TagMobileNav=function(){function e(){_classCallCheck(this,e),this.containers=[document.querySelector("nav")],this.base={container:this.containers[0],targetList:this.containers[0]?this.containers[0].querySelectorAll("a:not(.js-navopener)"):null,chapter1:null},this.eventBase={chapter1Prefix:"bm_"},this.eventResult=this.eventBase,this.paramResult=Object.assign(this.base,this.eventResult),this.textList=[],this.addSelectorsList=[".js-navopener"],this.deleteSelectorList=[".js-nav-return"],this.navListener=new TagcListener}return _createClass(e,[{key:"load",value:function(){this.markFirstLevel(),this.listener(),this.add(),this.deleter(),this.cleanEvent()}},{key:"markFirstLevel",value:function(){if(this.containers&&this.containers[0]){var e=this.containers[0].querySelectorAll(".nav-content > .nav-bloc");Array.from(e).map(function(e){e.classList.add("js-tag-level0")})}}},{key:"listener",value:function(){var e=this;this.paramResult.targetList&&Array.from(this.paramResult.targetList).map(function(t){t.addEventListener("click",function(r){if(t.parentNode.classList.contains("autopromo")&&(e.textList=["autopromo"]),t.closest("ul")){var a=t.closest("ul").closest(".nav-bloc");if(e.paramResult.name="",a.parentNode.classList.contains("nav-content")){var n=a.querySelector(".nav-bloc-title").innerText;e.textList=[e.navListener.formatText(n)]}}else{var c=t.innerText;e.textList=[],e.paramResult.name="bm_"+e.navListener.formatText(c)}e.update(),e.navListener.tcDynamicTreatment(e.paramResult,t,r)})})}},{key:"update",value:function(){"la_boutique"==this.textList[0]?(this.paramResult.chapter1=this.textList[1]?this.textList[1]:"",this.paramResult.chapter2=this.textList[2]?this.textList[2]:"",this.paramResult.chapter3=this.textList[3]?this.textList[3]:""):(this.paramResult.chapter1=this.textList[0]?this.textList[0]:"",this.paramResult.chapter2=this.textList[1]?this.textList[1]:"",this.paramResult.chapter3=this.textList[2]?this.textList[2]:"")}},{key:"add",value:function(){var e=this;this.addSelectorsList.map(function(t){var r=document.querySelectorAll(t);Array.from(r).map(function(t){t.addEventListener("click",function(){if(!t.parentNode.classList.contains("js-tag-level0")){var r=TcListener.formatText(t.innerText),a=TcListener.formatText(t.closest(".js-tag-level0").querySelector(".js-navopener").innerText);e.textList[0]=a,e.textList.push(r),e.update()}})})})}},{key:"deleter",value:function(){var e=this;this.deleteSelectorList.map(function(t){var r=document.querySelectorAll(t);Array.from(r).map(function(t){t.addEventListener("click",function(){e.textList.pop(),e.update()})})})}},{key:"cleanEvent",value:function(){var e=this;if(this.containers[0]){var t=this.containers[0].querySelectorAll(".js-nav-closer");Array.from(t).map(function(t){t.addEventListener("click",function(){e.clean()})})}}},{key:"clean",value:function(){this.textList=[],this.update()}}]),e}(),mobileDynamicHeader=function(){var e=[document.querySelector("header")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll("a:not(.logo)"):null,chapter1:"header"}]},mobileDynamicFooter=function(){var e=[document.querySelector("#footer")];return[{container:e[0],targetList:e[0]?e[0].querySelectorAll('a:not([class*="network-"])'):null,chapter1:"footer"},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".network a"):null,chapter1:"footer",chapter2:"social"}]},mobileDynamicBody=function(){var e=[document.querySelector("main"),document.querySelector(".category-list"),document.querySelector(".direct-access"),document.getElementById("findPostOffice")],t=[{container:e[0],targetList:e[0]?e[0].querySelectorAll(".subscribe-banner button"):null,name:"creation_compte",type:"action",level2:1},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".autopromo-big a"):null,chapter1:"",level2:1},{container:e[0],targetList:e[0]?e[0].querySelectorAll(".autopromo a"):null,chapter1:"",level2:1},{container:e[3],targetList:e[3]?e[3].querySelectorAll("button"):null,name:"localisation",type:"action",level2:1}],r=function(e,r){if(r){var a=r.querySelectorAll("a");Array.from(a).map(function(a,n){a.dataset.tagcPush="push".concat(n);var c={container:r,targetList:r.querySelectorAll('[data-tagc-push="push'.concat(n,'"]')),chapter1:e,chapter2:"push".concat(n+1),level2:1};t.push(c)})}};return r("category",e[1]),r("acces_directs",e[2]),t},otherPageListener={init:function(){this.newsletter()},newsletter:function(){(new TagcListener).tcDynamicTreatment({level2:"1",name:"souscription_newsletter",type:"action"},document.getElementById("newsletter"))},payline:function(){tc_events_8(this,"CLICK",{event:"F",name:"Page_Payline",level2:"111"})},paypal:function(){tc_events_8(this,"CLICK",{event:"F",name:"Page_Paypal",level2:"111"})}},_this=this,TcListener={init:function(){var e=this;window.addEventListener("tagco-loaded",function(){e.tcVars=tc_vars,e.tcClick(),e.tcDisplay(),e.tcPub();(new TagcListener).init()})},tcLoad:function(e){var t=TcListener.buildParam(e.dataset);"reex-dn-ContentPage"===tc_vars.page_IDH?TcListener.sendHit(e,"REEX",t):TcListener.sendHit(e,"CLICK",t)},tcAjax:function(e,t){var r,e=void 0===e?"fr_FR":e,a=_defineProperty({suivi_page:{event:"F",name:"resultats_suivi",chapter1:"outils",chapter2:"suivre",chapter3:"",level2:"101",type_suivi:t=void 0===t?"":t,langue_suivi:e},multi_suivi_page:{event:"F",name:"resultats_suivi",chapter1:"outils",chapter2:"suivre",chapter3:"multi_envoi",level2:"101",type_suivi:t,langue_suivi:e},suivi_page_mobile:{event:"F",name:"resultats_suivi",chapter1:"outils",chapter2:"suivi",chapter3:"",level2:"4",type_suivi:t,langue_suivi:e},suivi_page_mobile_pro:{event:"F",name:"resultats_suivi",chapter1:"outils",chapter2:"suivi",chapter3:"",level2:"4",type_suivi:"",langue_suivi:e}},"suivi_page_mobile_pro",{event:"F",name:"resultats_suivi",chapter1:"outils",chapter2:"suivi",chapter3:"",level2:"4",type_suivi:"",langue_suivi:e}),n="true"==tc_vars.is_pro;r="site_mobile_boutique"!=tc_vars.nom_site&&"site_mobile_pro"!=tc_vars.nom_site?n?a.multi_suivi_page:a.suivi_page:n?a.suivi_page_mobile_pro:a.suivi_page_mobile,"function"!=typeof tc_events_1&&"function"!=typeof tc_events_8||TcListener.sendHit(this,"suivi",r),TcListener.tcClick()},tcAjaxModifLiv:function(e){"function"!=typeof tc_events_1&&"function"!=typeof tc_events_8||TcListener.sendHit(this,"modification_livraison",e),TcListener.tcClick()},tcClick:function(){for(var e=document.querySelectorAll('[data-tagc="clic"]:not(.tagged)'),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=TcListener.buildParam(this.dataset);TcListener.sendHit(this,"CLICK",t),"submit"==this.getAttribute("type")&&this.closest("form").hasAttribute("onsubmit")&&this.closest("form").submit()}),e[t].classList.add("tagged"),e[t].classList.add("taggedc");var r=document.querySelectorAll(".js-autopromo");if(null!==r)for(var a=function(e){for(var t=r[e].querySelectorAll('[data-tagc="display"]:not(.tagged)'),a=function(e){t[e].addEventListener("click",function(r){var a=TcListener.buildParam(t[e].dataset);TcListener.sendHit(this,"CLICK",a)}),t[e].classList.add("tagged"),t[e].classList.add("taggedc")},n=0;n<t.length;n++)a(n)},n=0;n<r.length;n++)a(n)},tcDisplay:function(){for(var e={},t={},r={},a=[],n=[],c=document.querySelectorAll("[data-flickity].js-autopromo"),i=function(i){var o=Flickity.data(c[i]);o?n.push(o):c[i]&&n.push(c[i]);var s=c[i].querySelectorAll('[data-tagc="display"]:not(.tagged)');a.push(s);for(var l=0;l<s.length;l++){var u=TcListener.buildParam(s[l].dataset),d=s[l];r[d]=1;var p=fillDataTagcKey(d.dataset);e[p]=!1,t[p]=!1,TcListener.tcHitFlickityDisplay(n,d,e,u,p,t)}null!=o&&void 0!==o&&o.on("dragEnd",function(r){for(var a=0;a<s.length;a++){var c=TcListener.buildParam(s[a].dataset),i=s[a],o=fillDataTagcKey(i.dataset);TcListener.tcHitFlickityDisplay(n,i,e,c,o,t)}})},o=0;o<c.length;o++)i(o);var s=document.querySelectorAll(".js-autopromo");if(null!==s)for(var l=0;l<s.length;l++)for(var u=s[l].querySelectorAll('[data-tagc="display"]'),d=0;d<u.length;d++){var p=TcListener.buildParam(u[d].dataset),_=u[d];if(1!==r[_]){var g=fillDataTagcKey(_.dataset);e[g]=!1,t[g]=!1,TcListener.tcHitDisplay(_,e,p,g,t)}}window.addEventListener("scroll",function(c){window.requestAnimationFrame(function(){var c=document.querySelectorAll(".js-autopromo");if(null!==c)for(var i=0;i<c.length;i++)for(var o=c[i].querySelectorAll('[data-tagc="display"]:not(.tagged-s)'),s=0;s<o.length;s++){var l=TcListener.buildParam(o[s].dataset),u=o[s];if(1!==r[u]){var d=fillDataTagcKey(u.dataset);TcListener.tcHitDisplay(u,e,l,d,t)}}for(var p=0;p<a.length;p++)for(var _=0;_<a[p].length;_++){var g=TcListener.buildParam(a[p][_].dataset),h=a[p][_],m=fillDataTagcKey(h.dataset);tcHitFlickityDisplay(n,h,e,g,m,t)}})})},tcClickOneShot:function(e){e.addEventListener("click",function(e){var t=TcListener.buildParam(this.dataset);TcListener.sendHit(this,"CLICK",t),this.classList.add("tagged")})},sendHit:function(e,t,r){tc_vars.is_desktop;"true"===tc_vars.is_desktop?"function"==typeof tc_events_1?tc_events_1(e,t,r):console.log("tc_events_1 not yet loaded"):"function"==typeof tc_events_8?tc_events_8(e,t,r):console.log("tc_events_8 not yet loaded")},isInViewport:function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},buildParam:function(e){var t={};for(var r in e)if(""!=e[r]){e[r]=this.formatKey(e[r]);var a=r.replace("tagc_","");"undefined"!=a&&""!=a&&(0==e[r].indexOf("$")?t[a]=tc_vars[e[r].replace("$","")]:t[a]=e[r])}return t},tcDisplayCarousel:function(e,t){var r=e.querySelectorAll(".main-slider-item")[t].querySelector("[data-tagc]"),a=TcListener.buildParam(r.dataset);""!==a&&r.closest(".js-autopromo")&&(a.position=parseInt(t)+1,TcListener.sendHit(this,"DISPLAY",a))},tcClickCarousel:function(e,t){var r=e.querySelectorAll(".main-slider-item");if(r&&r[t]){var a=r[t].querySelector("[data-tagc]"),n=TcListener.buildParam(a.dataset);""!==n&&a.closest(".js-autopromo")&&(n.position=parseInt(t)+1,TcListener.sendHit(_this,"CLICK",n))}},formatKey:function(e){return e=e.replace("%","%25")},tcDisplaySend:function(e,t,r){TcListener.isInViewport(e)?e.dataset.tagc_visible="view":(e.dataset.tagc_visible="hidden",e.dataset.tagc_send=!1),"view"==e.dataset.tagc_visible&&"false"==e.dataset.tagc_send&&(TcListener.sendHit(_this,"DISPLAY",r),e.dataset.tagc_event_click||(e.addEventListener("click",function(){TcListener.sendHit(this,"CLICK",r)}),e.dataset.tagc_event_click=!0),t[e.dataset.tagc_productid]=!0,e.dataset.tagc_send=!0)},tcListenerDisplay:function(e,t,r){e.dataset.tagc_send=!1,TcListener.tcDisplaySend(e,t,r),window.addEventListener("scroll",function(a){TcListener.tcDisplaySend(e,t,r)})},tcPub:function(){var e={},t=document.querySelectorAll("ins").length>=1?document.querySelectorAll("ins"):document.querySelectorAll('div[class*="regiePub"]');if(t.length>0)for(var r=0;r<t.length;r++){var a=t[r],n=a.classList,c="",i=new RegExp("/^js-tagc/gi");if(n.length>0)for(var o=0;o<n.length;o++)i.test(n[o])&&(c=n[o]);var s=tc_vars.new_page_name.split("::");s=s[s.length-1],e.event="publisher",e.xtpub_b="display",e.xtpub_c=tc_vars.type_template+"-"+s,e.xtpub_d="regie-adverline",e.xtpub_e=a.clientWidth+"x"+a.clientHeight,e.xtpub_f=c,TcListener.sendHit(_this,"DISPLAY",e)}},searchProduct:function(e){return tc_vars.search_products.find(function(e){return"'+element+'"===e.order_product_id})},tcSiAddToCart:function(e){var t={};t.si_cart_id=e.orderCode,t.si_order_product_id=e.productCode,t.si_variant=e.message,t.si_order_product_name=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_name:"",t.si_brand_name=TcListener.tcVars.category_code,t.si_order_product_discounted=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_discounted:"0",t.si_order_product_unitprice_ati=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_unitprice_ati:"",t.si_order_product_unitprice_tf=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_unitprice_tf:"",t.si_order_product_stock=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_stock:"",t.si_order_product_quantity=e.cartQuantity,t.si_order_product_category_name1=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name:"",t.si_order_product_category_name2=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name1:"",t.si_order_product_category_name3=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name3:"",t.si_order_product_category_name4=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name4:"",t.si_order_product_category_name5=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name5:"",t.si_order_product_category_name6=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name6:"","0"==e.entryNumber&&"1"==e.cartQuantity?t.si_order_cart_creation=1:t.si_order_cart_creation=0,TcListener.sendHit(_this,"SIADDTOCART",t)},tcSiRemoveToCart:function(e){var t={};t.si_cart_id=e.orderCode,t.si_order_product_id=e.productCode,t.si_variant=e.message,t.si_order_product_name=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_name:"",t.si_brand_name=TcListener.tcVars.category_code,t.si_order_product_discounted=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_discounted:"0",t.si_order_product_unitprice_ati=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_unitprice_ati:"",t.si_order_product_unitprice_tf=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_unitprice_tf:"",t.si_order_product_stock=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_stock:"",t.si_order_product_quantity=e.cartQuantity,t.si_order_product_category_name1=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name:"",t.si_order_product_category_name2=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name1:"",t.si_order_product_category_name3=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name3:"",t.si_order_product_category_name4=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name4:"",t.si_order_product_category_name5=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name5:"",t.si_order_product_category_name6=TcListener.tcVars.search_products?TcListener.searchProduct(e.productCode).order_product_category_name6:"",TcListener.sendHit(_this,"SIREMOVETOCART",t)},tcSiUpdateCart:function(e){var t={};t.si_cart_id=e.si_cart_id,t.si_amountTaxIncluded=e.si_amountTaxIncluded,t.si_amountTaxFree=e.si_amountTaxFree,t.si_orderQuantity=e.si_orderQuantity,t.si_nbDistinctProduct=e.si_nbDistinctProduct,TcListener.sendHit(_this,"SIUPDATECART",t)},formatText:function(e){for(var t=null!=e?e:"",r=new Array(/À/g,/Á/g,/Â/g,/Ã/g,/Ä/g,/Å/g,/Æ/g,/Ç/g,/È/g,/É/g,/Ê/g,/Ë/g,/Ì/g,/Í/g,/Î/g,/Ï/g,/Ð/g,/Ñ/g,/Ò/g,/Ó/g,/Ô/g,/Õ/g,/Ö/g,/Ø/g,/Ù/g,/Ú/g,/Û/g,/Ü/g,/Ý/g,/Þ/g,/ß/g,/à/g,/á/g,/â/g,/ã/g,/ä/g,/å/g,/æ/g,/ç/g,/è/g,/é/g,/ê/g,/ë/g,/ì/g,/í/g,/î/g,/ï/g,/ð/g,/ñ/g,/ò/g,/ó/g,/ô/g,/õ/g,/ö/g,/ø/g,/ù/g,/ú/g,/û/g,/ü/g,/ý/g,/ý/g,/þ/g,/ÿ/g),a=new Array("A","A","A","A","A","A","A","C","E","E","E","E","I","I","I","I","D","N","O","O","O","O","O","O","U","U","U","U","Y","b","s","a","a","a","a","a","a","a","c","e","e","e","e","i","i","i","i","d","n","o","o","o","o","o","o","u","u","u","u","y","y","b","y"),n=0;n<r.length;n++)t=t.replace(r[n],a[n]);return t.trim().toLowerCase().replace(/\n/gi,"_").replace(/ /g,"_").replace(" ","_").replace(/'/g,"_")},tcHitDisplay:function(e,t,r,a,n){e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().left>=0&&e.getBoundingClientRect().right<=(window.innerWidth||document.documentElement.clientWidth)&&e.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)?(n[a]||e.classList.contains("owl-item")||(TcListener.sendHit(_this,"DISPLAY",r),e.classList.add("tagged-s"),t[a]||(t[a]=!0)),n[a]=!0):(n[a]=!1,e.classList.remove("tagged-s"))},tcHitFlickityDisplay:function(e,t,r,a,n,c){for(var i=0;i<e.length;i++)e[i]&&t.getBoundingClientRect().top>=0&&t.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)&&t.getBoundingClientRect().bottom>=0&&t.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.getBoundingClientRect().left>=0&&t.getBoundingClientRect().right<=(window.innerWidth||document.documentElement.clientWidth)?(c[n]||(TcListener.sendHit(_this,"DISPLAY",a),r[n]||(t.addEventListener("click",function(e){TcListener.sendHit(this,"CLICK",a)}),r[n]=!0)),c[n]=!0):c[n]=!1}};document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelectorAll(".home-carousel-list .dot, .content .dot"),r=document.querySelectorAll("figure a");if(t.length){for(c=0;c<t.length;c++)t[c].setAttribute("data-i",c),t[c].addEventListener("touchstart",function(e){var t=this.getAttribute("data-i");TcListener.sendHit(r[t],"DISPLAY",TcListener.buildParam(r[t].dataset))});for(var a=document.querySelectorAll(".thumb-mobile img"),n=document.querySelectorAll(".details-mobile a"),c=0;c<a.length;c++)a[c].setAttribute("data-i",c),a[c].addEventListener("click",function(e){var t=this.getAttribute("data-i");n[t].click()});for(var i=new Event("touchstart"),c=0;c<a.length;c++)a[c].setAttribute("data-i",c),a[c].addEventListener("click",function(e){var t=this.getAttribute("data-i");n[t].dispatchEvent(i)});document.querySelector(".dot").addEventListener("click",function(e){TcListener.sendHit(document.querySelector(".main-slider-wrap"),"DISPLAY",TcListener.buildParam(document.querySelector(".main-slider-wrap").dataset))})}});var TagcListener=function(){function e(){_classCallCheck(this,e),this.dynamicClickList=[]}return _createClass(e,[{key:"init",value:function(){this.initClosest();var t=desktopDynamicNav(),r=desktopDynamicHeader(),a=desktopDynamicFooter(),n=desktopDynamicBody(),c=mobileDynamicHeader(),i=mobileDynamicFooter(),o=mobileDynamicBody();if("true"==tc_vars.is_desktop)this.dynamicClickList=[].concat(_toConsumableArray(t),_toConsumableArray(r),_toConsumableArray(a),_toConsumableArray(n));else{this.dynamicClickList=[].concat(_toConsumableArray(c),_toConsumableArray(i),_toConsumableArray(o));(new TagMobileNav).load()}this.dynamicClickList.map(function(t){(new e).tcDynamicEvent(t)})}},{key:"tcDynamicEvent",value:function(e){var t=this;e.targetList&&Array.from(e.targetList).map(function(r){r.addEventListener("click",function(a){t.tcDynamicTreatment(e,r,a)})})}},{key:"tcDynamicTreatment",value:function(e,t,r){var a={event:"C",level2:"true"==tc_vars.is_desktop?18:2,chapter1Prefix:e.chapter1Prefix?e.chapter1Prefix:"",chapter1Suffix:e.chapter1Suffix?e.chapter1Suffix:""},n=e.layerSelector&&e.container.querySelector(e.layerSelector)?e.container.querySelector(e.layerSelector):" ",c=e.sublayerSelector&&e.container.querySelector(e.sublayerSelector)?e.container.querySelector(e.sublayerSelector):" ";if(e.event&&(a.event=e.event),e.level2&&(a.level2=e.level2),e.type)a.type_clic=e.type;else if(r&&r.currentTarget.href){r.currentTarget.href.split("/")[2]!==window.location.hostname?a.type_clic="exit":a.type_clic="navigation"}else a.type_clic="navigation";if(e.name)if(e.namePosition){i=parseInt(t.dataset.position)+1;a.name="".concat(e.name).concat(i)}else a.name="".concat(e.name);else t.title?a.name="".concat(this.formatText(t.title)):a.name="".concat(this.formatText(t.textContent));if(e.chapter1&&(a.chapter1="".concat(a.chapter1Prefix).concat(e.chapter1).concat(a.chapter1Suffix)),e.chapter2)if(e.chapter2Position){i=parseInt(t.dataset.position)+1;a.chapter2=e.chapter2+""+i}else a.chapter2=e.chapter2;else 1!=n.length&&this.formatText(n.textContent)!=a.name?a.chapter2=this.formatText(n.textContent):a.chapter2="";if(e.chapter3)if(e.chapter3Position){var i=parseInt(t.dataset.position)+1,o=parseInt(t.parentNode.dataset.line)+1;a.chapter3=e.chapter3Line?"line"+o+e.chapter3+i:e.chapter3+""+i}else a.chapter3=e.chapter3;else if(e.chapter3Selector&&3==e.parentsLevels){var s=t.parentNode.parentNode.parentNode.querySelector(e.chapter3Selector);a.chapter3=this.formatText(s.textContent)}else if(e.chapter3Selector&&"tous_nos_produits"==e.chapter2){var l=t.parentNode.parentNode.parentNode.querySelector(e.chapter3Selector),u=t.parentNode.parentNode.parentNode.parentNode.querySelector(e.chapter3Selector);a.chapter3=l.querySelector("h2")?this.formatText(l.textContent):this.formatText(u.textContent)}else 1!=c.length&&this.formatText(c.textContent)!=a.name?a.chapter3=this.formatText(c.textContent):a.chapter3="";e.chapter3To2&&(a.chapter2=a.chapter3,a.chapter3=""),this.sendHit(t,"CLICK",a)}},{key:"formatText",value:function(e){for(var t=null!=e?e:"",r=new Array(/À/g,/Á/g,/Â/g,/Ã/g,/Ä/g,/Å/g,/Æ/g,/Ç/g,/È/g,/É/g,/Ê/g,/Ë/g,/Ì/g,/Í/g,/Î/g,/Ï/g,/Ð/g,/Ñ/g,/Ò/g,/Ó/g,/Ô/g,/Õ/g,/Ö/g,/Ø/g,/Ù/g,/Ú/g,/Û/g,/Ü/g,/Ý/g,/Þ/g,/ß/g,/à/g,/á/g,/â/g,/ã/g,/ä/g,/å/g,/æ/g,/ç/g,/è/g,/é/g,/ê/g,/ë/g,/ì/g,/í/g,/î/g,/ï/g,/ð/g,/ñ/g,/ò/g,/ó/g,/ô/g,/õ/g,/ö/g,/ø/g,/ù/g,/ú/g,/û/g,/ü/g,/ý/g,/ý/g,/þ/g,/ÿ/g),a=new Array("A","A","A","A","A","A","A","C","E","E","E","E","I","I","I","I","D","N","O","O","O","O","O","O","U","U","U","U","Y","b","s","a","a","a","a","a","a","a","c","e","e","e","e","i","i","i","i","d","n","o","o","o","o","o","o","u","u","u","u","y","y","b","y"),n=0;n<r.length;n++)t=t.replace(r[n],a[n]);return t.trim().toLowerCase().replace(/\n/gi,"_").replace(/ /g,"_").replace(" ","_").replace(/'/g,"_").replace(/&/g,"et")}},{key:"sendHit",value:function(e,t,r){"true"===tc_vars.is_desktop?"function"==typeof tc_events_1?tc_events_1(e,t,r):console.log("tc_events_1 not yet loaded"):"function"==typeof tc_events_8?tc_events_8(e,t,r):console.log("tc_events_8 not yet loaded")}},{key:"initClosest",value:function(){window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,r=(this.document||this.ownerDocument).querySelectorAll(e),a=this;do{for(t=r.length;--t>=0&&r.item(t)!==a;);}while(t<0&&(a=a.parentElement));return a})}}]),e}();document.addEventListener("DOMContentLoaded",function(){TcListener.init()});
//# sourceMappingURL=../../js-gn/analytics/listener.min.js.map
